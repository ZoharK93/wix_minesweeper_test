(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],[,,,,,,,,,function(e,a,t){e.exports=t(19)},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(7),u=t.n(s),i=(t(14),t(1)),l=t(2),m=t(5),o=t(4),c=t(3);t(15),t(16);function h(e){var a=e.square,t=e.superman;if(!a.revealed){var n=t?a.value:null;return r.a.createElement("button",{className:"square "+(t?"superman":"not-revealed"),onClick:e.onClick},a.flag?r.a.createElement("img",{src:"./images/flag.png",alt:"flag"}):n)}return r.a.createElement("button",{className:"square revealed"},a.value)}var v=function(e){Object(o.a)(t,e);var a=Object(c.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){var e=this.props,a=e.squares.map((function(a,t){return r.a.createElement("tr",{className:"board-row"},a.map((function(a,n){return r.a.createElement("td",null,r.a.createElement(h,{square:a,onClick:function(a){return e.onClick(a,t,n)},superman:e.superman}))})))}));return r.a.createElement("div",{className:"game-board"},a)}}]),t}(r.a.Component),f=(t(17),r.a.createElement("img",{src:"./images/mine.png",alt:"mine"})),p="",g="You win!",d="You lose!";var b=function(e){Object(o.a)(t,e);var a=Object(c.a)(t);function t(e){var n;Object(i.a)(this,t),n=a.call(this,e);var r=function(e,a,t){for(var n=[],r=0;r<e;r++)n.push(Array.from({length:a},(function(e){return{value:null,revealed:!1,flag:!1}})));for(var s=0;s<t;s++){do{var u=Math.floor(Math.random()*e),i=Math.floor(Math.random()*a)}while(n[u][i].value===f);n[u][i].value=f}for(var l=0;l<e;l++)for(var m=0;m<a;m++)if(n[l][m].value!==f){for(var o=0,c=Math.max(l-1,0);c<=Math.min(l+1,e-1);c++)for(var h=Math.max(m-1,0);h<=Math.min(m+1,a-1);h++)c===l&&h===m||n[c][h].value===f&&o++;o>0&&(n[l][m].value=o)}return n}(e.rows,e.columns,e.mines);return n.state={squares:r,flags:e.mines,mines:e.mines,superman:e.superman,status:p},n}return Object(l.a)(t,[{key:"revealArea",value:function(e,a){for(var t=this.state.squares.slice(),n=t[e][a],r=[n];0<r.length;){var s=r[0];if(null===n.value)for(var u=Math.max(e-1,0);u<=Math.min(e+1,t.length-1);u++)for(var i=Math.max(a-1,0);i<=Math.min(a+1,t[e].length-1);i++)r.includes(s)||this.reveal(u,i)}}},{key:"reveal",value:function(e,a){var t=this.state.squares.slice(),n=t[e][a];if(!n.flag){if(n.revealed=!0,null===n.value)for(var r=Math.max(e-1,0);r<=Math.min(e+1,t.length-1);r++)for(var s=Math.max(a-1,0);s<=Math.min(a+1,t[e].length-1);s++)t[r][s].revealed||this.reveal(r,s);this.setState({status:n.value===f?d:p})}}},{key:"flag",value:function(e,a){var t=this.state.squares.slice()[e][a],n=this.state.flags,r=this.state.mines;if(!t.revealed)if(!t.flag&&n<=0)alert("You have no remaining flags. Remove a flag before placing another one.");else{t.flag=!t.flag;var s=t.flag?-1:1;n+=s,t.value===f&&(r+=s),this.setState({flags:n,mines:r,status:0===r?g:p})}}},{key:"handleClick",value:function(e,a,t){this.state.status===p&&(e.shiftKey?this.flag(a,t):this.reveal(a,t))}},{key:"render",value:function(){var e=this;return this.props.superman!==this.state.superman&&this.setState({superman:this.props.superman}),r.a.createElement("div",{className:"game"},"Flags remaining: ",this.state.flags,r.a.createElement(v,{squares:this.state.squares,onClick:function(a,t,n){return e.handleClick(a,t,n)},superman:this.state.superman}),r.a.createElement("div",null,this.state.status))}}]),t}(r.a.Component),k=t(8),E=(t(18),function(e){Object(o.a)(t,e);var a=Object(c.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).changeValue=n.changeValue.bind(Object(m.a)(n)),n.state={rows:e.rows,columns:e.columns,mines:e.mines},n}return Object(l.a)(t,[{key:"changeValue",value:function(e){var a=e.target;this.setState(Object(k.a)({},a.name,a.value))}},{key:"renderInputField",value:function(e,a){return r.a.createElement("input",{type:"number",name:e,min:1,max:a,defaultValue:this.state[e],onChange:this.changeValue})}},{key:"render",value:function(){return r.a.createElement("div",{className:"settings"},r.a.createElement("form",{onSubmit:this.props.onSubmit},"Rows:",this.renderInputField("rows",300),"Columns:",this.renderInputField("columns",300),"Mines:",this.renderInputField("mines",this.state.rows*this.state.columns),r.a.createElement("input",{type:"submit",value:"New Game"})),r.a.createElement("input",{type:"checkbox",onChange:this.props.toggleSuperman}),"Superman mode")}}]),t}(r.a.Component));function M(e,a){return Number(e[a].value)}var w=function(e){Object(o.a)(t,e);var a=Object(c.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).createGame=n.createGame.bind(Object(m.a)(n)),n.supermanMode=n.supermanMode.bind(Object(m.a)(n)),n.state={game_number:1,rows:10,columns:10,mines:10,superman:!1},n}return Object(l.a)(t,[{key:"createGame",value:function(e){e.preventDefault();var a=e.target;this.setState({game_number:this.state.game_number+1,rows:M(a,"rows"),columns:M(a,"columns"),mines:M(a,"mines")})}},{key:"renderGame",value:function(){var e=this.state;return r.a.createElement(b,{key:e.game_number,rows:e.rows,columns:e.columns,mines:e.mines,superman:e.superman})}},{key:"supermanMode",value:function(e){this.setState({superman:e.target.checked})}},{key:"render",value:function(){var e=this,a=this.state;return r.a.createElement("div",{className:"App"},r.a.createElement(E,{rows:a.rows,columns:a.columns,mines:a.mines,onSubmit:function(a){return e.createGame(a)},toggleSuperman:function(a){return e.supermanMode(a)}}),this.renderGame())}}]),t}(r.a.Component);u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.455b1617.chunk.js.map